{"version":3,"sources":["file:///Users/even/workspace/github/pitaya_cocos_demo/client/node_modules/@protobufjs/aspromise/index.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","asPromise","fn","ctx","params","Array","arguments","length","offset","index","pending","Promise","executor","resolve","reject","callback","err","apply","_cjsExports"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;;8BAEDC,Y,GAAe,cAAYC,G;;AACjCF,MAAAA,UAAU,CAACG,MAAX,CAAkBF,YAAlB,EAAgC,UAAUG,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AACAF,QAAAA,MAAM,CAACF,OAAP,GAAiBK,SAAjB;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,iBAASA,SAAT,CAAmBC,EAAnB,EAAuBC;AAAG;AAA1B,UAA0C;AACtC,cAAIC,MAAM,GAAI,IAAIC,KAAJ,CAAUC,SAAS,CAACC,MAAV,GAAmB,CAA7B,CAAd;AAAA,cACIC,MAAM,GAAI,CADd;AAAA,cAEIC,KAAK,GAAK,CAFd;AAAA,cAGIC,OAAO,GAAG,IAHd;;AAIA,iBAAOD,KAAK,GAAGH,SAAS,CAACC,MAAzB,EACIH,MAAM,CAACI,MAAM,EAAP,CAAN,GAAmBF,SAAS,CAACG,KAAK,EAAN,CAA5B;;AACJ,iBAAO,IAAIE,OAAJ,CAAY,SAASC,QAAT,CAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AAClDV,YAAAA,MAAM,CAACI,MAAD,CAAN,GAAiB,SAASO,QAAT,CAAkBC;AAAG;AAArB,cAAqC;AAClD,kBAAIN,OAAJ,EAAa;AACTA,gBAAAA,OAAO,GAAG,KAAV;AACA,oBAAIM,GAAJ,EACIF,MAAM,CAACE,GAAD,CAAN,CADJ,KAEK;AACD,sBAAIZ,MAAM,GAAG,IAAIC,KAAJ,CAAUC,SAAS,CAACC,MAAV,GAAmB,CAA7B,CAAb;AAAA,sBACIC,MAAM,GAAG,CADb;;AAEA,yBAAOA,MAAM,GAAGJ,MAAM,CAACG,MAAvB,EACIH,MAAM,CAACI,MAAM,EAAP,CAAN,GAAmBF,SAAS,CAACE,MAAD,CAA5B;;AACJK,kBAAAA,OAAO,CAACI,KAAR,CAAc,IAAd,EAAoBb,MAApB;AACH;AACJ;AACJ,aAbD;;AAcA,gBAAI;AACAF,cAAAA,EAAE,CAACe,KAAH,CAASd,GAAG,IAAI,IAAhB,EAAsBC,MAAtB;AACH,aAFD,CAEE,OAAOY,GAAP,EAAY;AACV,kBAAIN,OAAJ,EAAa;AACTA,gBAAAA,OAAO,GAAG,KAAV;AACAI,gBAAAA,MAAM,CAACE,GAAD,CAAN;AACH;AACJ;AACJ,WAvBM,CAAP;AAwBH,SAvDyF,CA0D3F;;;AAEA,2BAAAE,WAAW,GAAGpB,MAAM,CAACF,OAArB;AAGC,OA/DD,EA+DG,EA/DH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\r\n module.exports = asPromise;\r\n\r\n /**\r\n  * Callback as used by {@link util.asPromise}.\r\n  * @typedef asPromiseCallback\r\n  * @type {function}\r\n  * @param {Error|null} error Error, if any\r\n  * @param {...*} params Additional arguments\r\n  * @returns {undefined}\r\n  */\r\n\r\n /**\r\n  * Returns a promise from a node-style callback function.\r\n  * @memberof util\r\n  * @param {asPromiseCallback} fn Function to call\r\n  * @param {*} ctx Function context\r\n  * @param {...*} params Function arguments\r\n  * @returns {Promise<*>} Promisified function\r\n  */\r\n function asPromise(fn, ctx/*, varargs */) {\r\n     var params  = new Array(arguments.length - 1),\r\n         offset  = 0,\r\n         index   = 2,\r\n         pending = true;\r\n     while (index < arguments.length)\r\n         params[offset++] = arguments[index++];\r\n     return new Promise(function executor(resolve, reject) {\r\n         params[offset] = function callback(err/*, varargs */) {\r\n             if (pending) {\r\n                 pending = false;\r\n                 if (err)\r\n                     reject(err);\r\n                 else {\r\n                     var params = new Array(arguments.length - 1),\r\n                         offset = 0;\r\n                     while (offset < params.length)\r\n                         params[offset++] = arguments[offset];\r\n                     resolve.apply(null, params);\r\n                 }\r\n             }\r\n         };\r\n         try {\r\n             fn.apply(ctx || null, params);\r\n         } catch (err) {\r\n             if (pending) {\r\n                 pending = false;\r\n                 reject(err);\r\n             }\r\n         }\r\n     });\r\n }\r\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}